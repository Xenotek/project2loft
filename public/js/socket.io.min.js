!function(b,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?exports.io=c():b.io=c()}(this,function(){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,c),e.loaded=!0,e.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(a,b,c){"use strict";function j(a,b){"object"===("undefined"==typeof a?"undefined":d(a))&&(b=a,a=void 0),b=b||{};var o,c=e(a),f=c.source,j=c.id,l=c.path,m=i[j]&&l in i[j].nsps,n=b.forceNew||b["force new connection"]||!1===b.multiplex||m;return n?(h("ignoring socket cache for %s",f),o=g(f,b)):(i[j]||(h("new io instance for %s",f),i[j]=g(f,b)),o=i[j]),c.query&&!b.query?b.query=c.query:b&&"object"===d(b.query)&&(b.query=k(b.query)),o.socket(c.path,b)}function k(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(1),f=c(6),g=c(13),h=c(3)("socket.io-client");a.exports=b=j;var i=b.managers={};b.protocol=f.protocol,b.connect=j,b.Manager=c(13),b.Socket=c(40)},function(a,b,c){(function(b){"use strict";function f(a,c){var f=a;c=c||b.location,null==a&&(a=c.protocol+"//"+c.host),"string"==typeof a&&("/"===a.charAt(0)&&(a="/"===a.charAt(1)?c.protocol+a:c.host+a),/^(https?|wss?):\/\//.test(a)||(e("protocol-less url %s",a),a="undefined"!=typeof c?c.protocol+"//"+a:"https://"+a),e("parse %s",a),f=d(a)),f.port||(/^(http|ws)$/.test(f.protocol)?f.port="80":/^(http|ws)s$/.test(f.protocol)&&(f.port="443")),f.path=f.path||"/";var g=f.host.indexOf(":")!==-1,h=g?"["+f.host+"]":f.host;return f.id=f.protocol+"://"+h+":"+f.port,f.href=f.protocol+"://"+h+(c&&c.port===f.port?"":":"+f.port),f}var d=c(2),e=c(3)("socket.io-client:url");a.exports=f}).call(b,function(){return this}())},function(a,b){var c=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,d=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];a.exports=function(b){var e=b,f=b.indexOf("["),g=b.indexOf("]");f!=-1&&g!=-1&&(b=b.substring(0,f)+b.substring(f,g).replace(/:/g,";")+b.substring(g,b.length));for(var h=c.exec(b||""),i={},j=14;j--;)i[d[j]]=h[j]||"";return f!=-1&&g!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i}},function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,c=this.useColors;if(a[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+a[0]+(c?"%c ":" ")+"+"+b.humanize(this.diff),!c)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?b.storage.removeItem("debug"):b.storage.debug=a}catch(a){}}function h(){var a;try{a=b.storage.debug}catch(a){}return a}function i(){try{return window.localStorage}catch(a){}}b=a.exports=c(4),b.log=f,b.formatArgs=e,b.save=g,b.load=h,b.useColors=d,b.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),b.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],b.formatters.j=function(a){return JSON.stringify(a)},b.enable(h())},function(a,b,c){function f(){return b.colors[d++%b.colors.length]}function g(a){function c(){}function d(){var a=d,c=+new Date,g=c-(e||c);a.diff=g,a.prev=e,a.curr=c,e=c,null==a.useColors&&(a.useColors=b.useColors()),null==a.color&&a.useColors&&(a.color=f());var h=Array.prototype.slice.call(arguments);h[0]=b.coerce(h[0]),"string"!=typeof h[0]&&(h=["%o"].concat(h));var i=0;h[0]=h[0].replace(/%([a-z%])/g,function(c,d){if("%%"===c)return c;i++;var e=b.formatters[d];if("function"==typeof e){var f=h[i];c=e.call(a,f),h.splice(i,1),i--}return c}),"function"==typeof b.formatArgs&&(h=b.formatArgs.apply(a,h));var j=d.log||b.log||console.log.bind(console);j.apply(a,h)}c.enabled=!1,d.enabled=!0;var g=b.enabled(a)?d:c;return g.namespace=a,g}function h(a){b.save(a);for(var c=(a||"").split(/[\s,]+/),d=c.length,e=0;e<d;e++)c[e]&&(a=c[e].replace(/\*/g,".*?"),"-"===a[0]?b.skips.push(new RegExp("^"+a.substr(1)+"$")):b.names.push(new RegExp("^"+a+"$")))}function i(){b.enable("")}function j(a){var c,d;for(c=0,d=b.skips.length;c<d;c++)if(b.skips[c].test(a))return!1;for(c=0,d=b.names.length;c<d;c++)if(b.names[c].test(a))return!0;return!1}function k(a){return a instanceof Error?a.stack||a.message:a}b=a.exports=g,b.coerce=k,b.disable=i,b.enable=h,b.enabled=j,b.humanize=c(5),b.names=[],b.skips=[],b.formatters={};var e,d=0},function(a,b){function h(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var h=parseFloat(b[1]),i=(b[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return h*g;case"days":case"day":case"d":return h*f;case"hours":case"hour":case"hrs":case"hr":case"h":return h*e;case"minutes":case"minute":case"mins":case"min":case"m":return h*d;case"seconds":case"second":case"secs":case"sec":case"s":return h*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h}}}}function i(a){return a>=f?Math.round(a/f)+"d":a>=e?Math.round(a/e)+"h":a>=d?Math.round(a/d)+"m":a>=c?Math.round(a/c)+"s":a+"ms"}function j(a){return k(a,f,"day")||k(a,e,"hour")||k(a,d,"minute")||k(a,c,"second")||a+" ms"}function k(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var c=1e3,d=60*c,e=60*d,f=24*e,g=365.25*f;a.exports=function(a,b){return b=b||{},"string"==typeof a?h(a):b.long?j(a):i(a)}},function(a,b,c){function j(){}function k(a){var c="",f=!1;return c+=a.type,b.BINARY_EVENT!=a.type&&b.BINARY_ACK!=a.type||(c+=a.attachments,c+="-"),a.nsp&&"/"!=a.nsp&&(f=!0,c+=a.nsp),null!=a.id&&(f&&(c+=",",f=!1),c+=a.id),null!=a.data&&(f&&(c+=","),c+=e.stringify(a.data)),d("encoded %j as %s",a,c),c}function l(a,b){function c(a){var c=h.deconstructPacket(a),d=k(c.packet),e=c.buffers;e.unshift(d),b(e)}h.removeBlobs(a,c)}function m(){this.reconstructor=null}function n(a){var c={},f=0;if(c.type=Number(a.charAt(0)),null==b.types[c.type])return p();if(b.BINARY_EVENT==c.type||b.BINARY_ACK==c.type){for(var g="";"-"!=a.charAt(++f)&&(g+=a.charAt(f),f!=a.length););if(g!=Number(g)||"-"!=a.charAt(f))throw new Error("Illegal attachments");c.attachments=Number(g)}if("/"==a.charAt(f+1))for(c.nsp="";++f;){var h=a.charAt(f);if(","==h)break;if(c.nsp+=h,f==a.length)break}else c.nsp="/";var i=a.charAt(f+1);if(""!==i&&Number(i)==i){for(c.id="";++f;){var h=a.charAt(f);if(null==h||Number(h)!=h){--f;break}if(c.id+=a.charAt(f),f==a.length)break}c.id=Number(c.id)}if(a.charAt(++f))try{c.data=e.parse(a.substr(f))}catch(a){return p()}return d("decoded %s as %j",a,c),c}function o(a){this.reconPack=a,this.buffers=[]}function p(a){return{type:b.ERROR,data:"parser error"}}var d=c(3)("socket.io-parser"),e=c(7),g=(c(9),c(10)),h=c(11),i=c(12);b.protocol=4,b.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],b.CONNECT=0,b.DISCONNECT=1,b.EVENT=2,b.ACK=3,b.ERROR=4,b.BINARY_EVENT=5,b.BINARY_ACK=6,b.Encoder=j,b.Decoder=m,j.prototype.encode=function(a,c){if(d("encoding packet %j",a),b.BINARY_EVENT==a.type||b.BINARY_ACK==a.type)l(a,c);else{var e=k(a);c([e])}},g(m.prototype),m.prototype.add=function(a){var c;if("string"==typeof a)c=n(a),b.BINARY_EVENT==c.type||b.BINARY_ACK==c.type?(this.reconstructor=new o(c),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",c)):this.emit("decoded",c);else{if(!i(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");c=this.reconstructor.takeBinaryData(a),c&&(this.reconstructor=null,this.emit("decoded",c))}},m.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},o.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length==this.reconPack.attachments){var b=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},o.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(a,b,c){(function(a,c){var d=!1;(function(){function j(a,b){function t(a){if(t[a]!==r)return t[a];var e;if("bug-string-char-index"==a)e="a"!="a"[0];else if("json"==a)e=t("json-stringify")&&t("json-parse");else{var f,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=b.stringify,j="function"==typeof i&&s;if(j){(f=function(){return 1}).toJSON=f;try{j="0"===i(0)&&"0"===i(new c)&&'""'==i(new d)&&i(o)===r&&i(r)===r&&i()===r&&"1"===i(f)&&"[1]"==i([f])&&"[null]"==i([r])&&"null"==i(null)&&"[null,null,null]"==i([r,o,null])&&i({a:[f,!0,!1,null,"\0\b\n\f\r\t"]})==h&&"1"===i(null,f)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new g(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new g(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new g(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new g(-1))}catch(a){j=!1}}e=j}if("json-parse"==a){var k=b.parse;if("function"==typeof k)try{if(0===k("0")&&!k(!1)){f=k(h);var l=5==f.a.length&&1===f.a[0];if(l){try{l=!k('"\t"')}catch(a){}if(l)try{l=1!==k("01")}catch(a){}if(l)try{l=1!==k("1.")}catch(a){}}}}catch(a){l=!1}e=l}}return t[a]=!!e}a||(a=h.Object()),b||(b=h.Object());var c=a.Number||h.Number,d=a.String||h.String,e=a.Object||h.Object,g=a.Date||h.Date,i=a.SyntaxError||h.SyntaxError,k=a.TypeError||h.TypeError,l=a.Math||h.Math,m=a.JSON||h.JSON;"object"==typeof m&&m&&(b.stringify=m.stringify,b.parse=m.parse);var p,q,r,n=e.prototype,o=n.toString,s=new g(-0xc782b5b800cec);try{s=s.getUTCFullYear()==-109252&&0===s.getUTCMonth()&&1===s.getUTCDate()&&10==s.getUTCHours()&&37==s.getUTCMinutes()&&6==s.getUTCSeconds()&&708==s.getUTCMilliseconds()}catch(a){}if(!t("json")){var u="[object Function]",v="[object Date]",w="[object Number]",x="[object String]",y="[object Array]",z="[object Boolean]",A=t("bug-string-char-index");if(!s)var B=l.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(a,b){return C[b]+365*(a-1970)+B((a-1969+(b=+(b>1)))/4)-B((a-1901+b)/100)+B((a-1601+b)/400)};if((p=n.hasOwnProperty)||(p=function(a){var c,b={};return(b.__proto__=null,b.__proto__={toString:1},b).toString!=o?p=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(c=b.constructor,p=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])}),b=null,p.call(this,a)}),q=function(a,b){var d,e,g,c=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(g in e)p.call(e,g)&&c++;return d=e=null,c?q=2==c?function(a,b){var e,c={},d=o.call(a)==u;for(e in a)d&&"prototype"==e||p.call(c,e)||!(c[e]=1)||!p.call(a,e)||b(e)}:function(a,b){var d,e,c=o.call(a)==u;for(d in a)c&&"prototype"==d||!p.call(a,d)||(e="constructor"===d)||b(d);(e||p.call(a,d="constructor"))&&b(d)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],q=function(a,b){var d,g,c=o.call(a)==u,h=!c&&"function"!=typeof a.constructor&&f[typeof a.hasOwnProperty]&&a.hasOwnProperty||p;for(d in a)c&&"prototype"==d||!h.call(a,d)||b(d);for(g=e.length;d=e[--g];h.call(a,d)&&b(d));}),q(a,b)},!t("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},F="000000",G=function(a,b){return(F+(b||0)).slice(-a)},H="\\u00",I=function(a){for(var b='"',c=0,d=a.length,e=!A||d>10,f=e&&(A?a.split(""):a);c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=E[g];break;default:if(g<32){b+=H+G(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},J=function(a,b,c,d,e,f,g){var h,i,j,l,m,n,s,t,u,A,C,E,F,H,K,L;try{h=b[a]}catch(a){}if("object"==typeof h&&h)if(i=o.call(h),i!=v||p.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=w&&i!=x&&i!=y||p.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&h<1/0){if(D){for(m=B(h/864e5),j=B(m/365.2425)+1970-1;D(j+1,0)<=m;j++);for(l=B((m-D(j,0))/30.42);D(j,l+1)<=m;l++);m=1+m-D(j,l),n=(h%864e5+864e5)%864e5,s=B(n/36e5)%24,t=B(n/6e4)%60,u=B(n/1e3)%60,A=n%1e3}else j=h.getUTCFullYear(),l=h.getUTCMonth(),m=h.getUTCDate(),s=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),A=h.getUTCMilliseconds();h=(j<=0||j>=1e4?(j<0?"-":"+")+G(6,j<0?-j:j):G(4,j))+"-"+G(2,l+1)+"-"+G(2,m)+"T"+G(2,s)+":"+G(2,t)+":"+G(2,u)+"."+G(3,A)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=o.call(h),i==z)return""+h;if(i==w)return h>-1/0&&h<1/0?""+h:"null";if(i==x)return I(""+h);if("object"==typeof h){for(H=g.length;H--;)if(g[H]===h)throw k();if(g.push(h),C=[],K=f,f+=e,i==y){for(F=0,H=h.length;F<H;F++)E=J(F,h,c,d,e,f,g),C.push(E===r?"null":E);L=C.length?e?"[\n"+f+C.join(",\n"+f)+"\n"+K+"]":"["+C.join(",")+"]":"[]"}else q(d||h,function(a){var b=J(a,h,c,d,e,f,g);b!==r&&C.push(I(a)+":"+(e?" ":"")+b)}),L=C.length?e?"{\n"+f+C.join(",\n"+f)+"\n"+K+"}":"{"+C.join(",")+"}":"{}";return g.pop(),L}};b.stringify=function(a,b,c){var d,e,g,h;if(f[typeof b]&&b)if((h=o.call(b))==u)e=b;else if(h==y){g={};for(var k,i=0,j=b.length;i<j;k=b[i++],h=o.call(k),(h==x||h==w)&&(g[k]=1));}if(c)if((h=o.call(c))==w){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==x&&(d=c.length<=10?c:c.slice(0,10));return J("",(k={},k[""]=a,k),e,g,d,"",[])}}if(!t("json-parse")){var M,N,K=d.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},O=function(){throw M=N=null,i()},P=function(){for(var c,d,e,f,g,a=N,b=a.length;M<b;)switch(g=a.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=A?a.charAt(M):a[M],M++,c;case 34:for(c="@",M++;M<b;)if(g=a.charCodeAt(M),g<32)O();else if(92==g)switch(g=a.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=L[g],M++;break;case 117:for(d=++M,e=M+4;M<e;M++)g=a.charCodeAt(M),g>=48&&g<=57||g>=97&&g<=102||g>=65&&g<=70||O();c+=K("0x"+a.slice(d,M));break;default:O()}else{if(34==g)break;for(g=a.charCodeAt(M),d=M;g>=32&&92!=g&&34!=g;)g=a.charCodeAt(++M);c+=a.slice(d,M)}if(34==a.charCodeAt(M))return M++,c;O();default:if(d=M,45==g&&(f=!0,g=a.charCodeAt(++M)),g>=48&&g<=57){for(48==g&&(g=a.charCodeAt(M+1),g>=48&&g<=57)&&O(),f=!1;M<b&&(g=a.charCodeAt(M),g>=48&&g<=57);M++);if(46==a.charCodeAt(M)){for(e=++M;e<b&&(g=a.charCodeAt(e),g>=48&&g<=57);e++);e==M&&O(),M=e}if(g=a.charCodeAt(M),101==g||69==g){for(g=a.charCodeAt(++M),43!=g&&45!=g||M++,e=M;e<b&&(g=a.charCodeAt(e),g>=48&&g<=57);e++);e==M&&O(),M=e}return+a.slice(d,M)}if(f&&O(),"true"==a.slice(M,M+4))return M+=4,!0;if("false"==a.slice(M,M+5))return M+=5,!1;if("null"==a.slice(M,M+4))return M+=4,null;O()}return"$"},Q=function(a){var b,c;if("$"==a&&O(),"string"==typeof a){if("@"==(A?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=P(),"]"!=a;c||(c=!0))c&&(","==a?(a=P(),"]"==a&&O()):O()),","==a&&O(),b.push(Q(a));return b}if("{"==a){for(b={};a=P(),"}"!=a;c||(c=!0))c&&(","==a?(a=P(),"}"==a&&O()):O()),","!=a&&"string"==typeof a&&"@"==(A?a.charAt(0):a[0])&&":"==P()||O(),b[a.slice(1)]=Q(P());return b}O()}return a},R=function(a,b,c){var d=S(a,b,c);d===r?delete a[b]:a[b]=d},S=function(a,b,c){var e,d=a[b];if("object"==typeof d&&d)if(o.call(d)==y)for(e=d.length;e--;)R(d,e,c);else q(d,function(a){R(d,a,c)});return c.call(a,b,d)};b.parse=function(a,b){var c,d;return M=0,N=""+a,c=Q(P()),"$"!=P()&&O(),M=N=null,b&&o.call(b)==u?S((d={},d[""]=c,d),"",b):c}}}return b.runInContext=j,b}var e="function"==typeof d&&d.amd,f={function:!0,object:!0},g=f[typeof b]&&b&&!b.nodeType&&b,h=f[typeof window]&&window||this,i=g&&f[typeof a]&&a&&!a.nodeType&&"object"==typeof c&&c;if(!i||i.global!==i&&i.window!==i&&i.self!==i||(h=i),g&&!e)j(h,g);else{var k=h.JSON,l=h.JSON3,m=!1,n=j(h,h.JSON3={noConflict:function(){return m||(m=!0,h.JSON=k,h.JSON3=l,k=l=null),n}});h.JSON={parse:n.parse,stringify:n.stringify}}e&&d(function(){return n})}).call(this)}).call(b,c(8)(a),function(){return this}())},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){a.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},function(a,b){function c(a){if(a)return d(a)}function d(a){for(var b in c.prototype)a[b]=c.prototype[b];return a}a.exports=c,c.prototype.on=c.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},c.prototype.once=function(a,b){function d(){c.off(a,d),b.apply(this,arguments)}var c=this;return this._callbacks=this._callbacks||{},d.fn=b,this.on(a,d),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},c.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},c.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b,c){(function(a){var d=c(9),e=c(12);b.deconstructPacket=function(a){function f(a){if(!a)return a;if(e(a)){var c={_placeholder:!0,num:b.length};return b.push(a),c}if(d(a)){for(var g=new Array(a.length),h=0;h<a.length;h++)g[h]=f(a[h]);return g}if("object"==typeof a&&!(a instanceof Date)){var g={};for(var i in a)g[i]=f(a[i]);return g}return a}var b=[],c=a.data,g=a;return g.data=f(c),g.attachments=b.length,{packet:g,buffers:b}},b.reconstructPacket=function(a,b){function e(a){if(a&&a._placeholder){var c=b[a.num];return c}if(d(a)){for(var f=0;f<a.length;f++)a[f]=e(a[f]);return a}if(a&&"object"==typeof a){for(var g in a)a[g]=e(a[g]);return a}return a}return a.data=e(a.data),a.attachments=void 0,a},b.removeBlobs=function(b,c){function f(b,i,j){if(!b)return b;if(a.Blob&&b instanceof Blob||a.File&&b instanceof File){g++;var k=new FileReader;k.onload=function(){j?j[i]=this.result:h=this.result,--g||c(h)},k.readAsArrayBuffer(b)}else if(d(b))for(var l=0;l<b.length;l++)f(b[l],l,b);else if(b&&"object"==typeof b&&!e(b))for(var m in b)f(b[m],m,b)}var g=0,h=b;f(h),g||c(h)}}).call(b,function(){return this}())},function(a,b){(function(b){function c(a){return b.Buffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer}a.exports=c}).call(b,function(){return this}())},function(a,b,c){"use strict";function o(a,b){return this instanceof o?(a&&"object"===("undefined"==typeof a?"undefined":d(a))&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor(b.randomizationFactor||.5),this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new h.Encoder,this.decoder=new h.Decoder,this.autoConnect=b.autoConnect!==!1,void(this.autoConnect&&this.open())):new o(a,b)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(14),f=c(40),g=c(41),h=c(6),i=c(43),j=c(44),k=c(3)("socket.io-client:manager"),l=c(38),m=c(46),n=Object.prototype.hasOwnProperty;a.exports=o,o.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)n.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)},o.prototype.updateSocketIds=function(){for(var a in this.nsps)n.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)},g(o.prototype),o.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},o.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},o.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(a,b){if(k("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;k("opening %s",this.uri),this.engine=e(this.uri,this.opts);var c=this.engine,d=this;this.readyState="opening",this.skipReconnect=!1;var f=i(c,"open",function(){d.onopen(),a&&a()}),g=i(c,"error",function(b){if(k("connect_error"),d.cleanup(),d.readyState="closed",d.emitAll("connect_error",b),a){var c=new Error("Connection error");c.data=b,a(c)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var h=this._timeout;k("connect attempt will timeout after %d",h);var j=setTimeout(function(){k("connect attempt timed out after %d",h),f.destroy(),c.close(),c.emit("error","timeout"),d.emitAll("connect_timeout",h)},h);this.subs.push({destroy:function(){clearTimeout(j)}})}return this.subs.push(f),this.subs.push(g),this},o.prototype.onopen=function(){k("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(i(a,"data",j(this,"ondata"))),this.subs.push(i(a,"ping",j(this,"onping"))),this.subs.push(i(a,"pong",j(this,"onpong"))),this.subs.push(i(a,"error",j(this,"onerror"))),this.subs.push(i(a,"close",j(this,"onclose"))),this.subs.push(i(this.decoder,"decoded",j(this,"ondecoded")))},o.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},o.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},o.prototype.ondata=function(a){this.decoder.add(a)},o.prototype.ondecoded=function(a){this.emit("packet",a)},o.prototype.onerror=function(a){k("error",a),this.emitAll("error",a)},o.prototype.socket=function(a,b){function e(){~l(d.connecting,c)||d.connecting.push(c)}var c=this.nsps[a];if(!c){c=new f(this,a,b),this.nsps[a]=c;var d=this;c.on("connecting",e),c.on("connect",function(){c.id=d.engine.id}),this.autoConnect&&e()}return c},o.prototype.destroy=function(a){var b=l(this.connecting,a);~b&&this.connecting.splice(b,1),this.connecting.length||this.close()},o.prototype.packet=function(a){k("writing packet %j",a);var b=this;a.query&&0===a.type&&(a.nsp+="?"+a.query),b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var d=0;d<c.length;d++)b.engine.write(c[d],a.options);b.encoding=!1,b.processPacketQueue()}))},o.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},o.prototype.cleanup=function(){k("cleanup");for(var a=this.subs.length,b=0;b<a;b++){var c=this.subs.shift();c.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){k("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(a){k("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)k("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();k("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(k("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(k("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(k("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},o.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},function(a,b,c){a.exports=c(15)},function(a,b,c){a.exports=c(16),a.exports.parser=c(23)},function(a,b,c){(function(b){function l(a,c){if(!(this instanceof l))return new l(a,c);c=c||{},a&&"object"==typeof a&&(c=a,a=null),a?(a=i(a),c.hostname=a.host,c.secure="https"===a.protocol||"wss"===a.protocol,c.port=a.port,a.query&&(c.query=a.query)):c.host&&(c.hostname=i(c.host).host),this.secure=null!=c.secure?c.secure:b.location&&"https:"===location.protocol,c.hostname&&!c.port&&(c.port=this.secure?"443":"80"),this.agent=c.agent||!1,this.hostname=c.hostname||(b.location?location.hostname:"localhost"),this.port=c.port||(b.location&&location.port?location.port:this.secure?443:80),this.query=c.query||{},"string"==typeof this.query&&(this.query=k.decode(this.query)),this.upgrade=!1!==c.upgrade,this.path=(c.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!c.forceJSONP,this.jsonp=!1!==c.jsonp,this.forceBase64=!!c.forceBase64,this.enablesXDR=!!c.enablesXDR,this.timestampParam=c.timestampParam||"t",this.timestampRequests=c.timestampRequests,this.transports=c.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=c.policyPort||843,this.rememberUpgrade=c.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=c.onlyBinaryUpgrades,this.perMessageDeflate=!1!==c.perMessageDeflate&&(c.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=c.pfx||null,this.key=c.key||null,this.passphrase=c.passphrase||null,this.cert=c.cert||null,this.ca=c.ca||null,this.ciphers=c.ciphers||null,this.rejectUnauthorized=void 0===c.rejectUnauthorized?null:c.rejectUnauthorized;var d="object"==typeof b&&b;d.global===d&&c.extraHeaders&&Object.keys(c.extraHeaders).length>0&&(this.extraHeaders=c.extraHeaders),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function m(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var d=c(17),e=c(31),f=c(3)("engine.io-client:socket"),g=c(38),h=c(23),i=c(2),j=c(39),k=c(32);a.exports=l,l.priorWebsocketSuccess=!1,e(l.prototype),l.protocol=h.protocol,l.Socket=l,l.Transport=c(22),l.transports=c(17),l.parser=c(23),l.prototype.createTransport=function(a){f('creating transport "%s"',a);var b=m(this.query);b.EIO=h.protocol,b.transport=a,this.id&&(b.sid=this.id);var c=new d[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return c},l.prototype.open=function(){var a;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)a="websocket";else{if(0===this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(a){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},l.prototype.setTransport=function(a){f("setting transport %s",a.name);var b=this;this.transport&&(f("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},l.prototype.probe=function(a){function e(){if(d.onlyBinaryUpgrades){var e=!this.supportsBinary&&d.transport.supportsBinary;c=c||e}c||(f('probe transport "%s" opened',a),b.send([{type:"ping",data:"probe"}]),b.once("packet",function(e){if(!c)if("pong"===e.type&&"probe"===e.data){if(f('probe transport "%s" pong',a),d.upgrading=!0,d.emit("upgrading",b),!b)return;l.priorWebsocketSuccess="websocket"===b.name,f('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){c||"closed"!==d.readyState&&(f("changing transport and sending upgrade packet"),m(),d.setTransport(b),b.send([{type:"upgrade"}]),d.emit("upgrade",b),b=null,d.upgrading=!1,d.flush())})}else{f('probe transport "%s" failed',a);var g=new Error("probe error");g.transport=b.name,d.emit("upgradeError",g)}}))}function g(){c||(c=!0,m(),b.close(),b=null)}function h(c){var e=new Error("probe error: "+c);e.transport=b.name,g(),f('probe transport "%s" failed because of error: %s',a,c),d.emit("upgradeError",e)}function i(){h("transport closed")}function j(){h("socket closed")}function k(a){b&&a.name!==b.name&&(f('"%s" works - aborting "%s"',a.name,b.name),g())}function m(){b.removeListener("open",e),b.removeListener("error",h),b.removeListener("close",i),d.removeListener("close",j),d.removeListener("upgrading",k)}f('probing transport "%s"',a);var b=this.createTransport(a,{probe:1}),c=!1,d=this;l.priorWebsocketSuccess=!1,b.once("open",e),b.once("error",h),b.once("close",i),this.once("close",j),this.once("upgrading",k),b.open()},l.prototype.onOpen=function(){if(f("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){f("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}},l.prototype.onPacket=function(a){if("opening"===this.readyState||"open"===this.readyState)switch(f('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(j(a.data));
break;case"pong":this.setPing(),this.emit("pong");break;case"error":var b=new Error("server error");b.code=a.data,this.onError(b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else f('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!==b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},l.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){f("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},l.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(f("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(a,b,c){return this.sendPacket("message",a,b,c),this},l.prototype.sendPacket=function(a,b,c,d){if("function"==typeof b&&(d=b,b=void 0),"function"==typeof c&&(d=c,c=null),"closing"!==this.readyState&&"closed"!==this.readyState){c=c||{},c.compress=!1!==c.compress;var e={type:a,data:b,options:c};this.emit("packetCreate",e),this.writeBuffer.push(e),d&&this.once("flush",d),this.flush()}},l.prototype.close=function(){function b(){a.onClose("forced close"),f("socket closing - telling transport to close"),a.transport.close()}function c(){a.removeListener("upgrade",c),a.removeListener("upgradeError",c),b()}function d(){a.once("upgrade",c),a.once("upgradeError",c)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var a=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?d():b()}):this.upgrading?d():b()}return this},l.prototype.onError=function(a){f("socket error %j",a),l.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},l.prototype.onClose=function(a,b){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){f('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b),c.writeBuffer=[],c.prevBufferLen=0}},l.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;c<d;c++)~g(this.transports,a[c])&&b.push(a[c]);return b}}).call(b,function(){return this}())},function(a,b,c){(function(a){function h(b){var c,g=!1,h=!1,i=!1!==b.jsonp;if(a.location){var j="https:"===location.protocol,k=location.port;k||(k=j?443:80),g=b.hostname!==location.hostname||k!==b.port,h=b.secure!==j}if(b.xdomain=g,b.xscheme=h,c=new d(b),"open"in c&&!b.forceJSONP)return new e(b);if(!i)throw new Error("JSONP disabled");return new f(b)}var d=c(18),e=c(20),f=c(35),g=c(36);b.polling=h,b.websocket=g}).call(b,function(){return this}())},function(a,b,c){var d=c(19);a.exports=function(a){var b=a.xdomain,c=a.xscheme,e=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||d))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!c&&e)return new XDomainRequest}catch(a){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}},function(a,b){try{a.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(b){a.exports=!1}},function(a,b,c){(function(b){function i(){}function j(a){if(e.call(this,a),b.location){var c="https:"===location.protocol,d=location.port;d||(d=c?443:80),this.xd=a.hostname!==b.location.hostname||d!==a.port,this.xs=a.secure!==c}else this.extraHeaders=a.extraHeaders}function k(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!==a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders,this.create()}function l(){for(var a in k.requests)k.requests.hasOwnProperty(a)&&k.requests[a].abort()}var d=c(18),e=c(21),f=c(31),g=c(33),h=c(3)("engine.io-client:polling-xhr");a.exports=j,a.exports.Request=k,g(j,e),j.prototype.supportsBinary=!0,j.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,a.extraHeaders=this.extraHeaders,new k(a)},j.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},j.prototype.doPoll=function(){h("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},f(k.prototype),k.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new d(a),e=this;try{h("xhr open %s: %s",this.method,this.uri),c.open(this.method,this.uri,this.async);try{if(this.extraHeaders){c.setDisableHeaderCheck(!0);for(var f in this.extraHeaders)this.extraHeaders.hasOwnProperty(f)&&c.setRequestHeader(f,this.extraHeaders[f])}}catch(a){}if(this.supportsBinary&&(c.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}"withCredentials"in c&&(c.withCredentials=!0),this.hasXDR()?(c.onload=function(){e.onLoad()},c.onerror=function(){e.onError(c.responseText)}):c.onreadystatechange=function(){4===c.readyState&&(200===c.status||1223===c.status?e.onLoad():setTimeout(function(){e.onError(c.status)},0))},h("xhr data %s",this.data),c.send(this.data)}catch(a){return void setTimeout(function(){e.onError(a)},0)}b.document&&(this.index=k.requestsCount++,k.requests[this.index]=this)},k.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},k.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},k.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},k.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,a)try{this.xhr.abort()}catch(a){}b.document&&delete k.requests[this.index],this.xhr=null}},k.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(a){}if("application/octet-stream"===b)a=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(b){for(var c=new Uint8Array(this.xhr.response),d=[],e=0,f=c.length;e<f;e++)d.push(c[e]);a=String.fromCharCode.apply(null,d)}else a=this.xhr.responseText}catch(a){this.onError(a)}null!=a&&this.onData(a)},k.prototype.hasXDR=function(){return"undefined"!=typeof b.XDomainRequest&&!this.xs&&this.enablesXDR},k.prototype.abort=function(){this.cleanup()},k.requestsCount=0,k.requests={},b.document&&(b.attachEvent?b.attachEvent("onunload",l):b.addEventListener&&b.addEventListener("beforeunload",l,!1))}).call(b,function(){return this}())},function(a,b,c){function k(a){var b=a&&a.forceBase64;j&&!b||(this.supportsBinary=!1),d.call(this,a)}var d=c(22),e=c(32),f=c(23),g=c(33),h=c(34),i=c(3)("engine.io-client:polling");a.exports=k;var j=function(){var a=c(18),b=new a({xdomain:!1});return null!=b.responseType}();g(k,d),k.prototype.name="polling",k.prototype.doOpen=function(){this.poll()},k.prototype.pause=function(a){function c(){i("paused"),b.readyState="paused",a()}var b=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(i("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){i("pre-pause polling complete"),--d||c()})),this.writable||(i("we are currently writing - waiting to pause"),d++,this.once("drain",function(){i("pre-pause writing complete"),--d||c()}))}else c()},k.prototype.poll=function(){i("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},k.prototype.onData=function(a){var b=this;i("polling got data %s",a);var c=function(a,c,d){return"opening"===b.readyState&&b.onOpen(),"close"===a.type?(b.onClose(),!1):void b.onPacket(a)};f.decodePayload(a,this.socket.binaryType,c),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():i('ignoring poll - transport state "%s"',this.readyState))},k.prototype.doClose=function(){function b(){i("writing close packet"),a.write([{type:"close"}])}var a=this;"open"===this.readyState?(i("transport open - closing"),b()):(i("transport not open - deferring close"),this.once("open",b))},k.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")};f.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},k.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";!1!==this.timestampRequests&&(a[this.timestampParam]=h()),this.supportsBinary||a.sid||(a.b64=1),a=e.encode(a),this.port&&("https"===b&&443!==this.port||"http"===b&&80!==this.port)&&(c=":"+this.port),a.length&&(a="?"+a);var d=this.hostname.indexOf(":")!==-1;return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a}},function(a,b,c){function f(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders}var d=c(23),e=c(31);a.exports=f,e(f.prototype),f.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},f.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},f.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},f.prototype.send=function(a){if("open"!==this.readyState)throw new Error("Transport not open");this.write(a)},f.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},f.prototype.onData=function(a){var b=d.decodePacket(a,this.socket.binaryType);this.onPacket(b)},f.prototype.onPacket=function(a){this.emit("packet",a)},f.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(a,b,c){(function(a){function q(a,c){var d="b"+b.packets[a.type]+a.data.data;return c(d)}function r(a,c,d){if(!c)return b.encodeBase64Packet(a,d);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=m[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return d(g.buffer)}function s(a,c,d){if(!c)return b.encodeBase64Packet(a,d);var e=new FileReader;return e.onload=function(){a.data=e.result,b.encodePacket(a,c,!0,d)},e.readAsArrayBuffer(a.data)}function t(a,c,d){if(!c)return b.encodeBase64Packet(a,d);if(l)return s(a,c,d);var e=new Uint8Array(1);e[0]=m[a.type];var f=new p([e.buffer,a.data]);return d(f)}function u(a){try{a=h.decode(a)}catch(a){return!1}return a}function v(a,b,c){for(var d=new Array(a.length),e=g(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},h=0;h<a.length;h++)f(h,a[h],e)}var i,d=c(24),e=c(25),f=c(26),g=c(27),h=c(28);a&&a.ArrayBuffer&&(i=c(29));var j="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),k="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=j||k;b.protocol=3;var m=b.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},n=d(m),o={type:"error",data:"parser error"},p=c(30);b.encodePacket=function(b,c,d,e){"function"==typeof c&&(e=c,c=!1),"function"==typeof d&&(e=d,d=null);var f=void 0===b.data?void 0:b.data.buffer||b.data;if(a.ArrayBuffer&&f instanceof ArrayBuffer)return r(b,c,e);if(p&&f instanceof a.Blob)return t(b,c,e);if(f&&f.base64)return q(b,e);var g=m[b.type];return void 0!==b.data&&(g+=d?h.encode(String(b.data)):String(b.data)),e(""+g)},b.encodeBase64Packet=function(c,d){var e="b"+b.packets[c.type];if(p&&c.data instanceof a.Blob){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];d(e+a)},f.readAsDataURL(c.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(c.data))}catch(a){for(var h=new Uint8Array(c.data),i=new Array(h.length),j=0;j<h.length;j++)i[j]=h[j];g=String.fromCharCode.apply(null,i)}return e+=a.btoa(g),d(e)},b.decodePacket=function(a,c,d){if(void 0===a)return o;if("string"==typeof a){if("b"==a.charAt(0))return b.decodeBase64Packet(a.substr(1),c);if(d&&(a=u(a),a===!1))return o;var e=a.charAt(0);return Number(e)==e&&n[e]?a.length>1?{type:n[e],data:a.substring(1)}:{type:n[e]}:o}var g=new Uint8Array(a),e=g[0],h=f(a,1);return p&&"blob"===c&&(h=new p([h])),{type:n[e],data:h}},b.decodeBase64Packet=function(a,b){var c=n[a.charAt(0)];if(!i)return{type:c,data:{base64:!0,data:a.substr(1)}};var d=i.decode(a.substr(1));return"blob"===b&&p&&(d=new p([d])),{type:c,data:d}},b.encodePayload=function(a,c,d){function g(a){return a.length+":"+a}function h(a,d){b.encodePacket(a,!!f&&c,!0,function(a){d(null,g(a))})}"function"==typeof c&&(d=c,c=null);var f=e(a);return c&&f?p&&!l?b.encodePayloadAsBlob(a,d):b.encodePayloadAsArrayBuffer(a,d):a.length?void v(a,h,function(a,b){return d(b.join(""))}):d("0:")},b.decodePayload=function(a,c,d){if("string"!=typeof a)return b.decodePayloadAsBinary(a,c,d);"function"==typeof c&&(d=c,c=null);var e;if(""==a)return d(o,0,1);for(var g,h,f="",i=0,j=a.length;i<j;i++){var k=a.charAt(i);if(":"!=k)f+=k;else{if(""==f||f!=(g=Number(f)))return d(o,0,1);if(h=a.substr(i+1,g),f!=h.length)return d(o,0,1);if(h.length){if(e=b.decodePacket(h,c,!0),o.type==e.type&&o.data==e.data)return d(o,0,1);var l=d(e,i+g,j);if(!1===l)return}i+=g,f=""}}return""!=f?d(o,0,1):void 0},b.encodePayloadAsArrayBuffer=function(a,c){function d(a,c){b.encodePacket(a,!0,!0,function(a){return c(null,a)})}return a.length?void v(a,d,function(a,b){var d=b.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return b.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}b?e[f++]=0:e[f++]=1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),c(e.buffer)}):c(new ArrayBuffer(0))},b.encodePayloadAsBlob=function(a,c){function d(a,c){b.encodePacket(a,!0,!0,function(a){var b=new Uint8Array(1);if(b[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,b[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,p){var i=new p([b.buffer,h.buffer,a]);c(null,i)}})}v(a,d,function(a,b){return c(new p(b))})},b.decodePayloadAsBinary=function(a,c,d){"function"==typeof c&&(d=c,c=null);for(var e=a,g=[],h=!1;e.byteLength>0;){for(var i=new Uint8Array(e),j=0===i[0],k="",l=1;255!=i[l];l++){if(k.length>310){h=!0;break}k+=i[l]}if(h)return d(o,0,1);e=f(e,2+k.length),k=parseInt(k);var m=f(e,0,k);if(j)try{m=String.fromCharCode.apply(null,new Uint8Array(m))}catch(a){var n=new Uint8Array(m);m="";for(var l=0;l<n.length;l++)m+=String.fromCharCode(n[l])}g.push(m),e=f(e,k)}var p=g.length;g.forEach(function(a,e){d(b.decodePacket(a,c,!0),e,p)})}}).call(b,function(){return this}())},function(a,b){a.exports=Object.keys||function(b){var c=[],d=Object.prototype.hasOwnProperty;for(var e in b)d.call(b,e)&&c.push(e);return c}},function(a,b,c){(function(b){function e(a){function c(a){if(!a)return!1;if(b.Buffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer||b.Blob&&a instanceof Blob||b.File&&a instanceof File)return!0;if(d(a)){for(var e=0;e<a.length;e++)if(c(a[e]))return!0}else if(a&&"object"==typeof a){a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&c(a[f]))return!0}return!1}return c(a)}var d=c(9);a.exports=e}).call(b,function(){return this}())},function(a,b){a.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(b<0&&(b+=d),c<0&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;g<c;g++,h++)f[h]=e[g];return f.buffer}},function(a,b){function c(a,b,c){function f(a,d){if(f.count<=0)throw new Error("after called too many times");--f.count,a?(e=!0,b(a),b=c):0!==f.count||e||b(null,d)}var e=!1;return c=c||d,f.count=a,0===a?b():f}function d(){}a.exports=c},function(a,b,c){var d;(function(a,e){!function(f){function k(a){for(var e,f,b=[],c=0,d=a.length;c<d;)e=a.charCodeAt(c++),e>=55296&&e<=56319&&c<d?(f=a.charCodeAt(c++),56320==(64512&f)?b.push(((1023&e)<<10)+(1023&f)+65536):(b.push(e),c--)):b.push(e);return b}function l(a){for(var d,b=a.length,c=-1,e="";++c<b;)d=a[c],d>65535&&(d-=65536,e+=j(d>>>10&1023|55296),d=56320|1023&d),e+=j(d);return e}function m(a,b){return j(a>>b&63|128)}function n(a){if(0==(4294967168&a))return j(a);var b="";return 0==(4294965248&a)?b=j(a>>6&31|192):0==(4294901760&a)?(b=j(a>>12&15|224),b+=m(a,6)):0==(4292870144&a)&&(b=j(a>>18&7|240),b+=m(a,12),b+=m(a,6)),b+=j(63&a|128)}function o(a){for(var e,b=k(a),c=b.length,d=-1,f="";++d<c;)e=b[d],f+=n(e);return f}function p(){if(t>=s)throw Error("Invalid byte index");var a=255&r[t];if(t++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function q(){var a,b,c,d,e;if(t>s)throw Error("Invalid byte index");if(t==s)return!1;if(a=255&r[t],t++,0==(128&a))return a;if(192==(224&a)){var b=p();if(e=(31&a)<<6|b,e>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=p(),c=p(),e=(15&a)<<12|b<<6|c,e>=2048)return e;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=p(),c=p(),d=p(),e=(15&a)<<18|b<<12|c<<6|d,e>=65536&&e<=1114111))return e;throw Error("Invalid WTF-8 detected")}function u(a){r=k(a),s=r.length,t=0;for(var c,b=[];(c=q())!==!1;)b.push(c);return l(b)}var g="object"==typeof b&&b,i=("object"==typeof a&&a&&a.exports==g&&a,"object"==typeof e&&e);i.global!==i&&i.window!==i||(f=i);var r,s,t,j=String.fromCharCode,v={version:"1.0.0",encode:o,decode:u};d=function(){return v}.call(b,c,b,a),!(void 0!==d&&(a.exports=d))}(this)}).call(b,c(8)(a),function(){return this}())},function(a,b){!function(){"use strict";for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(256),d=0;d<a.length;d++)c[a.charCodeAt(d)]=d;b.encode=function(b){var d,c=new Uint8Array(b),e=c.length,f="";for(d=0;d<e;d+=3)f+=a[c[d]>>2],f+=a[(3&c[d])<<4|c[d+1]>>4],f+=a[(15&c[d+1])<<2|c[d+2]>>6],f+=a[63&c[d+2]];return e%3===2?f=f.substring(0,f.length-1)+"=":e%3===1&&(f=f.substring(0,f.length-2)+"=="),f},b.decode=function(a){var e,g,h,i,j,b=.75*a.length,d=a.length,f=0;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);var k=new ArrayBuffer(b),l=new Uint8Array(k);for(e=0;e<d;e+=4)g=c[a.charCodeAt(e)],h=c[a.charCodeAt(e+1)],i=c[a.charCodeAt(e+2)],j=c[a.charCodeAt(e+3)],l[f++]=g<<2|h>>4,l[f++]=(15&h)<<4|i>>2,l[f++]=(3&i)<<6|63&j;return k}}()},function(a,b){(function(b){function g(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;if(c.byteLength!==d.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(d,c.byteOffset,c.byteLength)),d=e.buffer}a[b]=d}}}function h(a,b){b=b||{};var d=new c;g(a);for(var e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}function i(a,b){return g(a),new Blob(a,b||{})}var c=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,d=function(){try{var a=new Blob(["hi"]);return 2===a.size}catch(a){return!1}}(),e=d&&function(){try{var a=new Blob([new Uint8Array([1,2])]);return 2===a.size}catch(a){return!1}}(),f=c&&c.prototype.append&&c.prototype.getBlob;a.exports=function(){return d?e?b.Blob:i:f?h:void 0}()}).call(b,function(){return this}())},function(a,b){function c(a){if(a)return d(a)}function d(a){for(var b in c.prototype)a[b]=c.prototype[b];return a}a.exports=c,c.prototype.on=c.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},c.prototype.once=function(a,b){function d(){c.off(a,d),b.apply(this,arguments)}var c=this;return this._callbacks=this._callbacks||{},d.fn=b,this.on(a,d),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},c.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},c.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b){b.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},b.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;d<e;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},function(a,b){a.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b){"use strict";function i(a){var b="";do b=c[a%d]+b,a=Math.floor(a/d);while(a>0);return b}function j(a){var b=0;for(g=0;g<a.length;g++)b=b*d+e[a.charAt(g)];return b}function k(){var a=i(+new Date);return a!==h?(f=0,h=a):a+"."+i(f++)}for(var h,c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),d=64,e={},f=0,g=0;g<d;g++)e[c[g]]=g;k.encode=i,k.decode=j,a.exports=k},function(a,b,c){(function(b){function i(){}function j(a){d.call(this,a),this.query=this.query||{},h||(b.___eio||(b.___eio=[]),h=b.___eio),this.index=h.length;var c=this;h.push(function(a){c.onData(a)}),this.query.j=this.index,b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=i)},!1)}var d=c(21),e=c(33);a.exports=j;var h,f=/\n/g,g=/\\n/g;e(j,d),j.prototype.supportsBinary=!1,j.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),d.prototype.doClose.call(this)},j.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},j.prototype.doWrite=function(a,b){function j(){k(),b()}function k(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(a){c.onError("jsonp polling iframe removal error",a)}try{var a='<iframe src="javascript:0" name="'+c.iframeId+'">';i=document.createElement(a)}catch(a){i=document.createElement("iframe"),i.name=c.iframeId,i.src="javascript:0"}i.id=c.iframeId,c.form.appendChild(i),c.iframe=i}var c=this;if(!this.form){var i,d=document.createElement("form"),e=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index;d.className="socketio",d.style.position="absolute",d.style.top="-1000px",d.style.left="-1000px",d.target=h,d.method="POST",d.setAttribute("accept-charset","utf-8"),e.name="d",d.appendChild(e),document.body.appendChild(d),this.form=d,this.area=e}this.form.action=this.uri(),k(),a=a.replace(g,"\\\n"),this.area.value=a.replace(f,"\\n");try{this.form.submit()}catch(a){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===c.iframe.readyState&&j()}:this.iframe.onload=j}}).call(b,function(){return this}())},function(a,b,c){(function(b){function l(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),this.perMessageDeflate=a.perMessageDeflate,d.call(this,a)}var d=c(22),e=c(23),f=c(32),g=c(33),h=c(34),i=c(3)("engine.io-client:websocket"),j=b.WebSocket||b.MozWebSocket,k=j;if(!k&&"undefined"==typeof window)try{k=c(37)}catch(a){}a.exports=l,g(l,d),l.prototype.name="websocket",l.prototype.supportsBinary=!0,l.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=void 0,c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(c.headers=this.extraHeaders);try{this.ws=j?new k(a):new k(a,b,c)}catch(a){return this.emit("error",a)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},l.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(l.prototype.onData=function(a){var b=this;setTimeout(function(){d.prototype.onData.call(b,a)},0)}),l.prototype.write=function(a){function h(){c.emit("flush"),setTimeout(function(){c.writable=!0,c.emit("drain")},0)}var c=this;this.writable=!1;for(var d=a.length,f=0,g=d;f<g;f++)!function(a){e.encodePacket(a,c.supportsBinary,function(e){if(!j){var f={};if(a.options&&(f.compress=a.options.compress),c.perMessageDeflate){var g="string"==typeof e?b.Buffer.byteLength(e):e.length;g<c.perMessageDeflate.threshold&&(f.compress=!1)}}try{j?c.ws.send(e):c.ws.send(e,f)}catch(a){i("websocket closed before onclose event")}--d||h()})}(a[f])},l.prototype.onClose=function(){d.prototype.onClose.call(this)},l.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},l.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"===b&&443!==this.port||"ws"===b&&80!==this.port)&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=h()),this.supportsBinary||(a.b64=1),a=f.encode(a),a.length&&(a="?"+a);var d=this.hostname.indexOf(":")!==-1;return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a},l.prototype.check=function(){return!(!k||"__initialize"in k&&this.name===l.prototype.name)}}).call(b,function(){return this}())},function(a,b){},function(a,b){var c=[].indexOf;a.exports=function(a,b){if(c)return a.indexOf(b);for(var d=0;d<a.length;++d)if(a[d]===b)return d;return-1}},function(a,b){(function(b){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,h=/\s+$/;a.exports=function(i){return"string"==typeof i&&i?(i=i.replace(g,"").replace(h,""),b.JSON&&JSON.parse?JSON.parse(i):c.test(i.replace(d,"@").replace(e,"]").replace(f,""))?new Function("return "+i)():void 0):null}}).call(b,function(){return this}())},function(a,b,c){"use strict";function m(a,b,c){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,c&&c.query&&(this.query=c.query),this.io.autoConnect&&this.open()}var d=c(6),e=c(41),f=c(42),g=c(43),h=c(44),i=c(3)("socket.io-client:socket"),j=c(45);a.exports=b=m;var k={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=e.prototype.emit;e(m.prototype),m.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[g(a,"open",h(this,"onopen")),g(a,"packet",h(this,"onpacket")),g(a,"close",h(this,"onclose"))]}},m.prototype.open=m.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},m.prototype.send=function(){var a=f(arguments);return a.unshift("message"),this.emit.apply(this,a),this},m.prototype.emit=function(a){if(k.hasOwnProperty(a))return l.apply(this,arguments),this;var b=f(arguments),c=d.EVENT;j(b)&&(c=d.BINARY_EVENT);var e={type:c,data:b};return e.options={},e.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof b[b.length-1]&&(i("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),e.id=this.ids++),this.connected?this.packet(e):this.sendBuffer.push(e),delete this.flags,this},m.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},m.prototype.onopen=function(){i("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:d.CONNECT,query:this.query}):this.packet({type:d.CONNECT}))},m.prototype.onclose=function(a){i("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},m.prototype.onpacket=function(a){if(a.nsp===this.nsp)switch(a.type){case d.CONNECT:this.onconnect();break;case d.EVENT:this.onevent(a);break;case d.BINARY_EVENT:this.onevent(a);break;case d.ACK:this.onack(a);break;case d.BINARY_ACK:this.onack(a);break;case d.DISCONNECT:this.ondisconnect();break;case d.ERROR:this.emit("error",a.data)}},m.prototype.onevent=function(a){var b=a.data||[];i("emitting event %j",b),null!=a.id&&(i("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?l.apply(this,b):this.receiveBuffer.push(b)},m.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var e=f(arguments);i("sending ack %j",e);var g=j(e)?d.BINARY_ACK:d.ACK;b.packet({type:g,id:a,data:e})}}},m.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(i("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):i("bad ack %s",a.id)},m.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,
this.emit("connect"),this.emitBuffered()},m.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)l.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},m.prototype.ondisconnect=function(){i("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},m.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},m.prototype.close=m.prototype.disconnect=function(){return this.connected&&(i("performing disconnect (%s)",this.nsp),this.packet({type:d.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},m.prototype.compress=function(a){return this.flags=this.flags||{},this.flags.compress=a,this}},function(a,b){function c(a){if(a)return d(a)}function d(a){for(var b in c.prototype)a[b]=c.prototype[b];return a}a.exports=c,c.prototype.on=c.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},c.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},c.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},c.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b){function c(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}a.exports=c},function(a,b){"use strict";function c(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}a.exports=c},function(a,b){var c=[].slice;a.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var d=c.call(arguments,2);return function(){return b.apply(a,d.concat(c.call(arguments)))}}},function(a,b,c){(function(b){function e(a){function c(a){if(!a)return!1;if(b.Buffer&&b.Buffer.isBuffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer||b.Blob&&a instanceof Blob||b.File&&a instanceof File)return!0;if(d(a)){for(var e=0;e<a.length;e++)if(c(a[e]))return!0}else if(a&&"object"==typeof a){a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&c(a[f]))return!0}return!1}return c(a)}var d=c(9);a.exports=e}).call(b,function(){return this}())},function(a,b){function c(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}a.exports=c,c.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},c.prototype.reset=function(){this.attempts=0},c.prototype.setMin=function(a){this.ms=a},c.prototype.setMax=function(a){this.max=a},c.prototype.setJitter=function(a){this.jitter=a}}])});